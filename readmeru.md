# DTO-based –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ *(WIP)*

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è **—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, —Ä–∞—Å—à–∏—Ä—è–µ–º—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤** –ø–æ–≤–µ—Ä—Ö Doctrine `QueryBuilder` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º DTO.

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å  **—É–π—Ç–∏ –æ—Ç –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤, —Ä—É—á–Ω–æ–≥–æ —Å–∫–ª–µ–∏–≤–∞–Ω–∏—è SQL –∏ –Ω–µ—è–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏**, –∑–∞–º–µ–Ω–∏–≤ —ç—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–∞.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

* –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (`WHERE`)
* –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã (`AND`, `OR`)
* `JOIN`
* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (`ORDER BY`)
* –ü–∞–≥–∏–Ω–∞—Ü–∏—è
* `UNION` / `UNION ALL`

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ DTO –∏–ª–∏ Criteria-–æ–±—ä–µ–∫—Ç—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫ –∑–∞–ø—Ä–æ—Å—É.

---

## –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

* ‚ùå –ù–µ—Ç –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤

* ‚ùå –ù–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤—ã

* ‚ùå –ù–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ SQL

* ‚ùå –ù–µ—Ç "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö" –∫–ª—é—á–µ–π

* ‚úÖ DTO –∏ Value Object'—ã

* ‚úÖ –ú–∞—Å—Å–∏–≤—ã –¥–æ–ø—É—Å—Ç–∏–º—ã **—Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ** (IN, SELECT, –Ω–∞–±–æ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π)

* ‚úÖ –Ø–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

* ‚úÖ –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

* ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –±–µ–∑ –ø—Ä–∞–≤–æ–∫ —è–¥—Ä–∞

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó–∞–ø—Ä–æ—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è **DTO –∏–ª–∏ Criteria**
2. DTO –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
3. DTO –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –Ω–∞–±–æ—Ä Criteria
4. Criteria –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ `QueryBuilder`

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

* –ª–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
* –∫–æ–¥ –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å
* –æ—à–∏–±–∫–∏ –ª–æ–≤—è—Ç—Å—è **–¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL**

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (`WHERE`)

–û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤, –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø –∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.

 [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ FilterDto –∏ Criteria](./docs/Explain/FilterDto.md)

---

### 2. `UNION` / `UNION ALL`

–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è union-–∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –æ–±—â–∏–π DTO –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ Criteria.

 [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ UNION](./docs/Explain/union.md)

---

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ DTO –∫ QueryBuilder

–ö–∞–∫ DTO –∏ Criteria –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ `QueryBuilder`, –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å–ª–æ—ë–≤.

 [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é —Ñ–∏–ª—å—Ç—Ä–æ–≤](./docs/Explain/Apply.md)

---

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–∞, –µ—Å–ª–∏:

* –µ—Å—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å `AND` / `OR`
* API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
* –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `UNION` –∑–∞–ø—Ä–æ—Å—ã
* –≤–∞–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
* –ø—Ä–æ–µ–∫—Ç –∂–∏–≤—ë—Ç –¥–æ–ª–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

---

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

 **Work in Progress**

* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è
* –í–æ–∑–º–æ–∂–Ω—ã breaking changes

---

## –Ø–∑—ã–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

* üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è  —Ç–µ–∫—É—â–∞—è
* üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è: [English version](./readme.md)

---

–ï—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ  **–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ª—É—á—à–µ —á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ**, –Ω–∞—á–∏–Ω–∞—è —Å FilterDto.
